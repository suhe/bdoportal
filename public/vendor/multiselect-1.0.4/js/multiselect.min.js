/*
 * Multiselect
 * http://crlcu.github.io/multiselect/
 *
 * Copyright (c) 2013 Adrian Crisan
 * Licensed under the MIT license.
 */
;!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=function(t){"use strict";function e(e,o){if("function"!=typeof t)throw"$ is undefined or not a function";var n=e.attr("id");this.left=e,this.right=t(t(o.right).length?o.right:"#"+n+"_to"),this.actions={leftAll:t(t(o.leftAll).length?o.leftAll:"#"+n+"_leftAll"),rightAll:t(t(o.rightAll).length?o.rightAll:"#"+n+"_rightAll"),leftSelected:t(t(o.leftSelected).length?o.leftSelected:"#"+n+"_leftSelected"),rightSelected:t(t(o.rightSelected).length?o.rightSelected:"#"+n+"_rightSelected")},delete o.leftAll,delete o.leftSelected,delete o.right,delete o.rightAll,delete o.rightSelected,this.options={keepRenderingSort:o.keepRenderingSort},delete o.keepRenderingSort,this.callbacks=o,this.init()}return e.prototype={init:function(){var e=this;e.options.keepRenderingSort&&(e.skipInitSort=!0,e.callbacks.sort=function(e,o){return t(e).data("position")>t(o).data("position")?1:-1},e.left.find("option").each(function(e,o){t(o).data("position",e)})),"function"==typeof e.callbacks.startUp&&e.callbacks.startUp(e.left,e.right),e.skipInitSort||"function"!=typeof e.callbacks.sort||(e.left.find("option").sort(e.callbacks.sort).appendTo(e.left),e.right.find("option").sort(e.callbacks.sort).appendTo(e.right)),e.events(e.actions)},events:function(e){var o=this;o.left.on("dblclick","option",function(t){t.preventDefault(),o.moveOneToRight(this)}),o.right.on("dblclick","option",function(t){t.preventDefault(),o.moveOneToLeft(this)}),(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.indexOf("Trident/")>0||navigator.userAgent.indexOf("Edge/")>0)&&(o.left.dblclick(function(){e.rightSelected.trigger("click")}),o.right.dblclick(function(){e.leftSelected.trigger("click")})),e.rightSelected.on("click",function(e){e.preventDefault();var n=o.left.find("option:selected");n&&o.moveOneToRight(n),t(this).blur()}),e.leftSelected.on("click",function(e){e.preventDefault();var n=o.right.find("option:selected");n&&o.moveOneToLeft(n),t(this).blur()}),e.rightAll.on("click",function(e){e.preventDefault();var n=o.left.find("option");n&&o.moveAllToRight(n),t(this).blur()}),e.leftAll.on("click",function(e){e.preventDefault();var n=o.right.find("option");n&&o.moveAllToLeft(n),t(this).blur()})},moveOneToRight:function(t,e){var o=this;return"function"!=typeof o.callbacks.beforeMoveOneToRight||e||o.callbacks.beforeMoveOneToRight(o.left,o.right,t)?(o.right.append(t),"function"!=typeof o.callbacks.sort||e||o.right.find("option").sort(o.callbacks.sort).appendTo(o.right),"function"!=typeof o.callbacks.afterMoveOneToRight||e||o.callbacks.afterMoveOneToRight(o.left,o.right,t),o):!1},moveOneToLeft:function(t,e){var o=this;return"function"!=typeof o.callbacks.beforeMoveOneToLeft||e||o.callbacks.beforeMoveOneToLeft(o.left,o.right,t)?(o.left.append(t),"function"!=typeof o.callbacks.sort||e||o.left.find("option").sort(o.callbacks.sort).appendTo(o.left),"function"!=typeof o.callbacks.afterMoveOneToLeft||e||o.callbacks.afterMoveOneToLeft(o.left,o.right,t),o):!1},moveAllToRight:function(t){var e=this;if("function"==typeof e.callbacks.beforeMoveAllToRight&&!e.callbacks.beforeMoveAllToRight(e.left,e.right,t))return!1;for(var o=0;t[o];o++)e.moveOneToRight(t[o],!0);return"function"==typeof e.callbacks.sort&&e.right.find("option").sort(e.callbacks.sort).appendTo(e.right),"function"==typeof e.callbacks.afterMoveAllToRight&&e.callbacks.afterMoveAllToRight(e.left,e.right,t),e},moveAllToLeft:function(t){var e=this;if("function"==typeof e.callbacks.beforeMoveAllToLeft&&!e.callbacks.beforeMoveAllToLeft(e.left,e.right,t))return!1;for(var o=0;t[o];o++)e.moveOneToLeft(t[o],!0);return"function"==typeof e.callbacks.sort&&e.left.find("option").sort(e.callbacks.sort).appendTo(e.left),"function"==typeof e.callbacks.afterMoveAllToLeft&&e.callbacks.afterMoveAllToLeft(e.left,e.right,t),e}},e}(jQuery);t.multiselect={defaults:{startUp:function(t,e){e.find("option").each(function(e,o){t.find('option[value="'+o.value+'"]').remove()})},beforeMoveOneToRight:function(){return!0},afterMoveOneToRight:function(){},beforeMoveAllToRight:function(){return!0},afterMoveAllToRight:function(){},beforeMoveOneToLeft:function(){return!0},afterMoveOneToLeft:function(){},beforeMoveAllToLeft:function(){return!0},afterMoveAllToLeft:function(){},sort:function(t,e){return"NA"==t.innerHTML?1:"NA"==e.innerHTML?-1:t.innerHTML>e.innerHTML?1:-1}},setup:{}},t.fn.multiselect=function(o){return this.each(function(){var n=t(this),l=n.data(),i=t.extend({},t.multiselect.defaults,t.multiselect.setup,l,o);return new e(t(this),i)})}});